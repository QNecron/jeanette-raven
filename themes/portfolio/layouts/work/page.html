{{ define "main" }}

  {{ if and 
    ( index .Params "hero-1-desktop" ) 
    ( index .Params "hero-1-mobile" )
  }}
    <section class="hero" hero-theme="work">

      <picture class="hero__asset">
        
        <source 
          srcset="{{ index .Params "hero-1-desktop" }}"
          media="(min-width: 768px)"
          height="1080px"
          width="1920px"
        >
        
        <img 
          src="{{ index .Params "hero-1-mobile" }}" 
          class="hero__img"
          height="853px"
          width="480px"
          alt="" 
          aria-hidden="true"
        />
        
      </picture>
      
    </section>
  {{ end }}

  <!-- opening++ -->
  <section class="opening" opening-theme="work">
      
    <div wrapper="structure">
      
      {{ if and 
        ( index .Params "opening-title" )
        ( index .Params "opening-copy" )
      }}
        
        <div class="opening__content">
            
          <h2 class="opening__heading">
            {{ index .Params "opening-title" }}
          </h2>
            
          <p class="opening__copy">
            {{ index .Params "opening-copy" }}  
          </p>
            
        </div>

      {{ end }}
        
      <div class="opening__roles">
          
        <div
          class="roles grid" 
          grid-gap="32" 
          grid-desktop="3" 
          grid-tablet="3" 
          grid-mobile="1"        
        >

          {{ if and 
            ( .Params.Role )
            ( index .Params "role-team" )
            ( index .Params "role-me" )
          }}
            <div class="roles__team">
                  
              <h3 class="roles__heading">Team + Role</h3>
              <p>{{ .Params.Role }}</p>
              
              <div 
                class="grid" 
                grid-desktop="2" 
                grid-tablet="2" 
                grid-mobile="1"
              >
                {{ with index .Params "role-team" }}
                  <div class="roles__lists">
                    <strong>Team:</strong>
                    <ul>
                      {{ range . }}
                        <li>{{ . }}</li>
                      {{ end }}
                    </ul>
                  </div>
                {{ end }}
                        
                {{ with index .Params "role-me" }}
                  <div class="roles__lists">
                    <strong>My Role:</strong>
                    <ul>
                      {{ range . }}
                        <li>{{ . }}</li>
                      {{ end }}
                    </ul>
                  </div>
                {{ end }}
              </div>
                              
            </div>
          {{ end }}

          {{ if and ( index .Params "role-opportunity" ) }}
            <div class="roles__opportunity">
                  
              <h3 class="roles__heading">Challenge + Opportunity</h3>
                  
              {{ with index .Params "role-opportunity" }}
                <div class="roles__lists">
                  <ul>
                    {{ range . }}
                      <li>{{ . }}</li>
                    {{ end }}
                  </ul>
                </div>
              {{ end }}
              
            </div>
          {{ end }}
          
          {{ if and ( index .Params "role-leadership" ) }}
            <div class="roles__leadership">

              <h3 class="roles__heading">Leadership Highlight</h3>
              <p>{{ index .Params "role-leadership" }}</p>

            </div>
          {{ end }}
              
        </div>
          
      </div>

      <div 
        class="opening__support grid" 
        grid-gap="32" 
        grid-desktop="3" 
        grid-tablet="3" 
        grid-mobile="1"
      >

        {{ if and 
          ( .Params.Role )
          ( index .Params "impact-1-title" )
          ( index .Params "impact-1-copy" )
        }}
          <div class="opening__support-card">
            <h3 class="opening__support-heading">
              {{ index .Params "impact-1-title" }}
            </h3>
            <div class="opening__support-copy">
              {{ index .Params "impact-1-copy" }}
            </div>
          </div>
        {{ end }}
        
        {{ if and 
          ( .Params.Role )
          ( index .Params "impact-2-title" )
          ( index .Params "impact-2-copy" )
        }}
          <div class="opening__support-card">
            <h3 class="opening__support-heading">
              {{ index .Params "impact-2-title" }}
            </h3>
            <div class="opening__support-copy">
              {{ index .Params "impact-2-copy" }}
            </div>
          </div>
        {{ end }}
        
        {{ if and 
          ( .Params.Role )
          ( index .Params "impact-3-title" )
          ( index .Params "impact-3-copy" )
        }}
          <div class="opening__support-card">
            <h3 class="opening__support-heading">
              {{ index .Params "impact-3-title" }}
            </h3>
            <div class="opening__support-copy">
              {{ index .Params "impact-3-copy" }}
            </div>
          </div>
        {{ end }}
        
      </div>

    </div>
      
  </section>
  
  <!-- 2 card section -->
  <section class="section">  
    
    <div wrapper="structure">

      {{ if or  
        ( index .Params "2-card-section-title" )
        ( index .Params "2-card-section-copy" )
      }}
        <header class="section__header">
          
          <h3 class="section__heading">
            {{ index .Params "2-card-section-title" }}
          </h3>
          
          <p class="section__copy">
            {{ index .Params "2-card-section-copy" }}
          </p>
          
        </header>
      {{ end }}
      
      <div
        class="grid" 
        grid-gap="0" 
        grid-desktop="2" 
        grid-tablet="2" 
        grid-mobile="1"        
      >

        <div class="card" card-theme="overlay work">
          
          {{ if index .Params "2-card-1-image" }}
            <div class="card__asset">
              <img 
                src="{{ index .Params "2-card-1-image" }}" 
                class="card__asset-img"
                height="800px"
                width="800px"
                alt="" 
                aria-hidden="true"
              />
            </div>
          {{ end }}
          
          <div class="card__content">
            <h3 class="card__heading">
              {{ index .Params "2-card-1-title" }}
            </h3>
            <p class="card__copy">
              {{ index .Params "2-card-1-copy" }}
            </p>
          </div>
          
        </div>
        
        <div class="card" card-theme="overlay work">
          
          {{ if index .Params "2-card-2-image" }}
            <div class="card__asset">
              <img 
                src="{{ index .Params "2-card-2-image" }}" 
                class="card__asset-img"
                height="800px"
                width="800px"
                alt="" 
                aria-hidden="true"
              />
            </div>
          {{ end }}
          
          <div class="card__content">
            <h3 class="card__heading">
              {{ index .Params "2-card-2-title" }}
            </h3>
            <p class="card__copy">
              {{ index .Params "2-card-2-copy" }}
            </p>
          </div>
          
        </div>

      </div>
      
    </div>
    
  </section>

  <!-- content -->
  <section class="section">
    
    <div wrapper="structure">
      
      {{ .Content }}
      
    </div>
    
  </section>
  
  {{ if and 
    ( index .Params "hero-2-desktop" ) 
    ( index .Params "hero-2-mobile" )
  }}
    <section class="hero" hero-theme="work">

      <picture class="hero__asset">
        
        <source 
          srcset="{{ index .Params "hero-2-desktop" }}"
          media="(min-width: 768px)"
          height="1080px"
          width="1920px"
        >
        
        <img 
          src="{{ index .Params "hero-2-mobile" }}" 
          class="hero__img"
          height="853px"
          width="480px"
          alt="" 
          aria-hidden="true"
        />
        
      </picture>
      
    </section>
  {{ end }}

{{ end }}